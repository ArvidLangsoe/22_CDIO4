$(document).ready(function(){$("body").load("src/login.html");$(document).on("submit","#login_form",function(a){a.preventDefault();$.ajax({url:"rest/login/login-user",type:"POST",contentType:"application/json",data:$(this).serializeJSON(),success:function(b){if(b=="super_admin"||b=="logged_in"){$("body").load("master.html",function(){getUser(b.id)})}else{console.log(b)}},error:function(b){console.log(b)}})})});$(document).ready(function(){$(document).on("click",".user_edit_link",function(c){c.preventDefault();var b=$(this).parents("tr").children("td:first").text();$.ajax({url:"rest/CRUD/get-user",type:"POST",data:b,contentType:"application/json",success:function(d){console.log(d);$(".users-page").load("user-edit.html",function(){$("#user_id").val(d.userId);$("#name").val(d.userName);$("#initials").val(d.ini);$("#cpr").val(d.cpr);$("#rolle").val(d.roles)})},error:function(d){console.log(d);alert("fail data: "+d)}});return false});$(document).on("click",".user-delete",function(c){c.preventDefault();var b=$(this).parents("tr").children("td:first").text();$.ajax({url:"rest/CRUD/delete-user",type:"DELETE",data:b,contentType:"application/json",success:function(d){showUserListPage()},error:function(d){console.log(d);alert("fail data: "+d)}});return false});$(document).on("submit",".user-edit-page form",function(b){b.preventDefault();$.ajax({url:"rest/CRUD/edit-user",type:"PUT",contentType:"application/json",data:$(this).serializeJSON(),success:function(c){$(".users-page").load("user-list.html",function(){showUserListPage()})},error:function(c){console.log(c);alert("fail data: "+c)}});return false});$(document).on("submit",".user-create-page form",function(b){b.preventDefault();$.ajax({url:"rest/CRUD/create-user",type:"POST",contentType:"application/json",data:$(this).serializeJSON(),success:function(c){$(".users-page").load("user-list.html",function(){showUserListPage()})},error:function(c){console.log(c);alert("fail data: "+c)}});return false});function a(b){$.ajax({url:"rest/user/get-user",type:"GET",contentType:"application/json",success:function(c){console.log(c.rolle)},error:function(c){console.log(c)}})}});